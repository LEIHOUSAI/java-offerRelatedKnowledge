### 为什么要使用并发编程
- 提高CPU的使用效率，充分利用多核CPU的计算能力，提高程序的执行效率
- 方便进行业务拆分，系统的高并发能力一般都是通过并发编程实现的

### 进程与线程的区别
- 根本区别：进程是操作系统资源分配的基本单位，而线程是处理器任务调度和执行的基本单位
- 资源开销：每个进程都有独立的代码和数据空间（程序上下文），进程之间的切换会有较大的开销；线程可以看做轻量级的进程，同一类线程共享代码和数据空间，每个线程都有自己独立的运行栈和程序计数器（PC），线程之间切换的开销小。
- 包含关系：如果一个进程内有多个线程，则执行过程不是一条线的，而是多条线（线程）共同完成的；线程是进程的一部分，所以线程也被称为轻权进程或者轻量级进程。
- 内存分配：同一进程的线程共享本进程的地址空间和资源，而进程之间的地址空间和资源是相互独立的
- 影响关系：一个进程崩溃后，在保护模式下不会对其他进程产生影响，但是一个线程崩溃整个线程都死掉。所以多进程要比多线程健壮。
- 执行过程：每个独立的进程有程序运行的入口、顺序执行序列和程序出口。但是线程不能独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制，两者均可并发执行

### 并发编程三要素
- 原子性，一个动作要么全部执行成功，要么全部失败
- 可见性，一个线程对变量的修改，另一个线程能够看到
- 有序性，能够按照代码的先后顺序进行执行

### 并发编程可能遇到的问题：
- 内存泄漏
- 上下文切换
- 线程安全
- 死锁

死锁的四个必要条件：
- 互斥条件，线程对所分到的资源具有排他性
- 请求与保持条件，线程请求被占用资源发生阻塞时，对已获取的资源保持不放
- 不剥夺条件，线程以获取的资源在未使用完之前不能被其它线程剥夺
- 循环等待条件，发生死锁时，必定会形成一个环路，形成永久阻塞